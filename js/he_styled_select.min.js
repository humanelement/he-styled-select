var heStyledSelect=function(){return{close:function(a){var b=this;a.each(function(){var a=jQuery(this),a=b.getWrapForSelect(a);a.removeClass("select-open");a.parents(".he-select-overflow").removeClass("he-select-overflow")})},open:function(a){var b=this;b.close(jQuery(".init-he-styled-select").not(a));a.each(function(){var a=jQuery(this),a=b.getWrapForSelect(a);a.addClass("select-open");a.parents().each(function(){var a=jQuery(this)[0].tagName;if(void 0!=a&&"string"===typeof a){a=a.toLowerCase();
if("body"===a)return!1;"hidden"===jQuery(this).css("overflow")&&(jQuery(this).css("overflow","visible"),jQuery(this).addClass("he-select-overflow"))}})})},getSelectForWrap:function(a){if(a[0].style_options_list){var b=a.attr("data-styled-select");a=a.siblings('.init-he-styled-select[data-styled-select="'+b+'"]:first')}else a=a.find("select.init-he-styled-select:first");return a},getWrapForSelect:function(a){if(a[0].style_options_list){var b=a.attr("data-styled-select");a=a.siblings('.he-styled-select-wrap[data-styled-select="'+
b+'"]:first')}else a=a.parents(".he-styled-select-wrap:first");return a},getSelectedOption:function(a){var b;a[0].style_options_list?(a=this.getWrapForSelect(a),0<a.length&&(a=a.children(".select-options:first").children(".select-option.selected:first"),0<a.length&&(b=a))):(b=a.val(),void 0==b&&(b=""),b=a.children('option[value="'+b+'"]:first'),1>b.length&&(b=void 0));return b},setSelectedOption:function(a,b,c){var l,e=this.getWrapForSelect(a);if(0<e.length){var n=e.children(".select-val:first"),
h=function(m,k,p,f){e[0].style_options_list&&(n.attr("data-value",k),n.text(m));b.hasOwnProperty("text")?l=m:b.hasOwnProperty("value")&&(l=k);a.val(k);m={value:k,text:m};void 0!=p&&(m.option=p);void 0!=f&&(m.prev_option=f);a[0].hasOwnProperty("custom_select_onchange")&&a[0].custom_select_onchange(a,m);void 0!=c&&c(a,m)};if(e[0].style_options_list){var f=e.children(".select-options:first"),g;b.hasOwnProperty("text")?(void 0==b.text&&(b.text=""),f.children(".select-option").each(function(){if(jQuery(this).text()===
b.text)return g=jQuery(this),!1})):b.hasOwnProperty("value")&&(void 0==b.value&&(b.value=""),0<b.value.length?g=f.children('.select-option[data-value="'+b.value+'"]:first'):f.children(".select-option").each(function(){var a=jQuery(this).attr("data-value");if(void 0==a||1>a.length)return g=jQuery(this),!1}));if(void 0!=g&&0<g.length&&!g.hasClass("selected")){f=f.children(".select-option.selected");f.removeClass("selected");g.addClass("selected");var k=g.attr("data-value"),p=g.text();h(p,k,g,f)}}else{var d;
a.children("option").each(function(){if(b.hasOwnProperty("text")){if(void 0==b.text&&(b.text=""),jQuery(this).text()===b.text)return d=jQuery(this),!1}else if(b.hasOwnProperty("value")&&jQuery(this).attr("value")===b.value)return void 0==b.value&&(b.value=""),d=jQuery(this),!1});void 0!=d&&h(b.text,b.value,d)}}return l},setText:function(a,b,c){return this.setSelectedOption(a,{text:b},c)},setValue:function(a,b,c){return this.setSelectedOption(a,{value:b},c)},getText:function(a){var b;a=this.getSelectedOption(a);
void 0!=a&&0<a.length&&(b=a.text());return b},getValue:function(a){var b,c=this.getSelectedOption(a);void 0!=c&&0<c.length&&(b=a[0].style_options_list?c.attr("data-value"):c.attr("value"));return b},updateOptions:function(a){var b=this,c=b.getWrapForSelect(a),l=c.children(".select-val:first"),e=a.val(),n=a[0].options[a[0].selectedIndex].textContent||a[0].options[a[0].selectedIndex].innerText;if(c[0].style_options_list){l.attr("data-value",e);l.text(n);var h=c.children(".select-options:first");h.html("");
a.children("option").each(function(){var a=jQuery(this),c=a.attr("value"),k=a.text();void 0==c&&(0===a.index()?c="":(a.attr("value",k),c=a.attr("value")));h.append('<div data-value="'+c+'" class="select-option">'+k+"</div>");a=h.children(".select-option:last");c===e&&a.addClass("selected");a.click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");a=b.getSelectForWrap(a);b.setValue(a,jQuery(this).attr("data-value"));b.close(a)})});1>h.children(".select-option.selected").length&&
h.children(".select-option:first").addClass("selected")}},init:function(a){var b={},c=this,l=function(c,p){var d;d=a.hasOwnProperty(c)?a[c]:p;void 0!=d&&(b[c]=d);return d},e=l("select");if(void 0!=e){e=jQuery(e).not(".init-he-styled-select");if(0<e.length){var n=l("onchange"),h=l("classes"),f=l("style_options_list",!0),g=jQuery(".init-he-styled-select").length;e.each(function(a){var b=jQuery(this);b.addClass("init-he-styled-select");b.attr("data-styled-select",g+a+1+"");b.after('<div data-styled-select="'+
(g+a+1)+'" class="he-styled-select-wrap"><div class="select-val"></div><div class="select-options"></div><div class="select-btn"></div></div>');a=b.next('.he-styled-select-wrap[data-styled-select="'+(g+a+1)+'"]:first');a[0].style_options_list=f;b[0].style_options_list=f;void 0!=n&&(b[0].custom_select_onchange=n);f||(a.find(".select-options:first").remove(),a.find(".select-val:first").remove(),a.append('<div class="he-select-el"></div>'),a.children(".he-select-el:last").append(b),b.change(function(){if(b[0].hasOwnProperty("custom_select_onchange")){var a=
jQuery(this).val();void 0==a&&(a="");var k={value:a},d=jQuery(this).children('option[value="'+a+'"]');1>d.length&&jQuery(this).children("option").each(function(){var a=jQuery(this).attr("value");if(void 0==a||1>a.length)return d=jQuery(this),!1});0<d.length&&(k.text=d.text(),k.option=d);jQuery(this)[0].custom_select_onchange(jQuery(this),k)}c.close(jQuery(this))}),b.click(function(a){c.open(jQuery(this));a.preventDefault();a.stopPropagation()}),b.focus(function(){c.open(jQuery(this))}),b.blur(function(){c.close(jQuery(this))}));
c.updateOptions(b);b.change(function(){var a=c.getValue(jQuery(this));void 0==a&&(a="");a!==jQuery(this).val()&&c.setValue(jQuery(this),jQuery(this).val())});a=c.getWrapForSelect(b);if(void 0!=h)for(var d=0;d<h.length;d++)b.addClass(h[d]),a.addClass(h[d]);d=a.children(".select-btn:last");f&&a.children(".select-val:last").click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");var b=c.getSelectForWrap(a);a.hasClass("select-open")?c.close(b):c.open(b)});
d.click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");var b=c.getSelectForWrap(a);a.hasClass("select-open")?c.close(b):c.open(b)})});b.select_el=e}document.hasOwnProperty("he_styled_select_init")||(document.he_styled_select_init=!0,jQuery(document).keydown(function(a){if(0<jQuery(".he-styled-select-wrap.select-open:first").length)switch(a.keyCode){case 27:a.preventDefault(),a.stopPropagation(),c.close(jQuery(".init-he-styled-select"))}}),
jQuery(document).click(function(a){0<jQuery(".he-styled-select-wrap.select-open:first").length&&(a.preventDefault(),a.stopPropagation(),c.close(jQuery(".init-he-styled-select")))}))}return b}}}();
