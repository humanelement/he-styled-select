var heStyledSelect=function(){return{close:function(a){var b=this;a.each(function(){var a=jQuery(this);b.getWrapForSelect(a).removeClass("select-open")})},open:function(a){var b=this;b.close(jQuery(".init-he-styled-select").not(a));a.each(function(){var a=jQuery(this);b.getWrapForSelect(a).addClass("select-open")})},getSelectForWrap:function(a){var b=a.attr("data-styled-select");return a.siblings('.init-he-styled-select[data-styled-select="'+b+'"]:first')},getWrapForSelect:function(a){var b=a.attr("data-styled-select");
return a.siblings('.he-styled-select-wrap[data-styled-select="'+b+'"]:first')},getSelectedOption:function(a){var b;a=this.getWrapForSelect(a);0<a.length&&(a=a.children(".select-options:first").children(".select-option.selected:first"),0<a.length&&(b=a));return b},setSelectedOption:function(a,b,d){var h,c=this.getWrapForSelect(a);if(0<c.length){var g=c.children(".select-val:first"),c=c.children(".select-options:first"),e;b.hasOwnProperty("text")?(void 0==b.text&&(b.text=""),c.children(".select-option").each(function(){if(jQuery(this).text()===
b.text)return e=jQuery(this),!1})):b.hasOwnProperty("value")&&(void 0==b.value&&(b.value=""),0<b.value.length?e=c.children('.select-option[data-value="'+b.value+'"]:first'):c.children(".select-option").each(function(){var a=jQuery(this).attr("data-value");if(void 0==a||1>a.length)return e=jQuery(this),!1}));if(void 0!=e&&0<e.length&&!e.hasClass("selected")){c=c.children(".select-option.selected");c.removeClass("selected");e.addClass("selected");var f=e.attr("data-value"),k=e.text();g.attr("data-value",
f);g.text(k);b.hasOwnProperty("text")?h=k:b.hasOwnProperty("value")&&(h=f);a.val(f);g={value:f,text:k,option:e,prev_option:c};a[0].hasOwnProperty("custom_select_onchange")&&a[0].custom_select_onchange(a,g);void 0!=d&&d(a,g)}}return h},setText:function(a,b,d){return this.setSelectedOption(a,{text:b},d)},setValue:function(a,b,d){return this.setSelectedOption(a,{value:b},d)},getText:function(a){var b;a=this.getSelectedOption(a);void 0!=a&&0<a.length&&(b=a.text());return b},getValue:function(a){var b;
a=this.getSelectedOption(a);void 0!=a&&0<a.length&&(b=a.attr("data-value"));return b},updateOptions:function(a){var b=this,d=b.getWrapForSelect(a),h=d.children(".select-val:first"),c=d.children(".select-options:first"),g=a.val(),d=a[0].options[a[0].selectedIndex].textContent||a[0].options[a[0].selectedIndex].innerText;h.attr("data-value",g);h.text(d);c.html("");a.children("option").each(function(){var a=jQuery(this),f=a.attr("value");void 0==f&&(f="");a=a.text();c.append('<div data-value="'+f+'" class="select-option">'+
a+"</div>");a=c.children(".select-option:last");f===g&&a.addClass("selected");a.click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");a=b.getSelectForWrap(a);b.setValue(a,jQuery(this).attr("data-value"));b.close(a)})});1>c.children(".select-option.selected").length&&c.children(".select-option:first").addClass("selected")},init:function(a){var b={},d=this,h=function(f,d){var c;c=a.hasOwnProperty(f)?a[f]:d;void 0!=c&&(b[f]=c);return c},c=h("select");
if(void 0!=c){c=jQuery(c).not(".init-he-styled-select");if(0<c.length){var g=h("onchange"),e=jQuery(".init-he-styled-select").length;c.each(function(a){var b=jQuery(this);b.addClass("init-he-styled-select");b.attr("data-styled-select",e+a+1+"");b.after('<div data-styled-select="'+(e+a+1)+'" class="he-styled-select-wrap"><div class="select-val"></div><div class="select-options"></div><div class="select-btn"></div></div>');d.updateOptions(b);void 0!=g&&(b[0].custom_select_onchange=g);b.change(function(){var a=
d.getValue(jQuery(this));void 0==a&&(a="");a!==jQuery(this).val()&&d.setValue(jQuery(this),jQuery(this).val())});a=d.getWrapForSelect(b);b=a.children(".select-btn:last");a.children(".select-val:last").click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");var b=d.getSelectForWrap(a);a.hasClass("select-open")?d.close(b):d.open(b)});b.click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");
var b=d.getSelectForWrap(a);a.hasClass("select-open")?d.close(b):d.open(b)})});b.select_el=c}document.hasOwnProperty("he_styled_select_init")||(document.he_styled_select_init=!0,jQuery(document).keydown(function(a){if(0<jQuery(".he-styled-select-wrap.select-open:first").length)switch(a.keyCode){case 27:a.preventDefault(),a.stopPropagation(),d.close(jQuery(".init-he-styled-select"))}}),jQuery(document).click(function(a){0<jQuery(".he-styled-select-wrap.select-open:first").length&&(a.preventDefault(),
a.stopPropagation(),d.close(jQuery(".init-he-styled-select")))}))}return b}}}();
