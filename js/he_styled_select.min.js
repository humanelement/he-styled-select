var heStyledSelect=function(){return{close:function(a){var b=this;a.each(function(){var a=jQuery(this);b.getWrapForSelect(a).removeClass("select-open")})},open:function(a){var b=this;b.close(jQuery(".init-he-styled-select").not(a));a.each(function(){var a=jQuery(this);b.getWrapForSelect(a).addClass("select-open")})},getSelectForWrap:function(a){var b=a.attr("data-styled-select");return a.siblings('.init-he-styled-select[data-styled-select="'+b+'"]:first')},getWrapForSelect:function(a){var b=a.attr("data-styled-select");
return a.siblings('.he-styled-select-wrap[data-styled-select="'+b+'"]:first')},getSelectedOption:function(a){var b;a=this.getWrapForSelect(a);0<a.length&&(a=a.children(".select-options:first").children(".select-option.selected:first"),0<a.length&&(b=a));return b},setSelectedOption:function(a,b,c){var g,d=this.getWrapForSelect(a);if(0<d.length){var f=d.children(".select-val:first"),d=d.children(".select-options:first"),e;b.hasOwnProperty("text")?(void 0==b.text&&(b.text=""),d.children(".select-option").each(function(){if(jQuery(this).text()===
b.text)return e=jQuery(this),!1})):b.hasOwnProperty("value")&&(void 0==b.value&&(b.value=""),0<b.value.length?e=d.children('.select-option[data-value="'+b.value+'"]:first'):d.children(".select-option").each(function(){var a=jQuery(this).attr("data-value");if(void 0==a||1>a.length)return e=jQuery(this),!1}));if(void 0!=e&&0<e.length&&!e.hasClass("selected")){d=d.children(".select-option.selected");d.removeClass("selected");e.addClass("selected");var h=e.attr("data-value"),k=e.text();f.attr("data-value",
h);f.text(k);b.hasOwnProperty("text")?g=k:b.hasOwnProperty("value")&&(g=h);a.val(h);f={value:h,text:k,option:e,prev_option:d};a[0].hasOwnProperty("custom_select_onchange")&&a[0].custom_select_onchange(a,f);void 0!=c&&c(a,f)}}return g},setText:function(a,b,c){return this.setSelectedOption(a,{text:b},c)},setValue:function(a,b,c){return this.setSelectedOption(a,{value:b},c)},getText:function(a){var b;a=this.getSelectedOption(a);void 0!=a&&0<a.length&&(b=a.text());return b},getValue:function(a){var b;
a=this.getSelectedOption(a);void 0!=a&&0<a.length&&(b=a.attr("data-value"));return b},updateOptions:function(a){var b=this,c=b.getWrapForSelect(a),g=c.children(".select-val:first"),d=c.children(".select-options:first"),f=a.val(),c=a[0].options[a[0].selectedIndex].textContent||a[0].options[a[0].selectedIndex].innerText;g.attr("data-value",f);g.text(c);d.html("");a.children("option").each(function(){var a=jQuery(this),c=a.attr("value"),k=a.text();void 0==c&&(0===a.index()?c="":(a.attr("value",k),c=
a.attr("value")));d.append('<div data-value="'+c+'" class="select-option">'+k+"</div>");a=d.children(".select-option:last");c===f&&a.addClass("selected");a.click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");a=b.getSelectForWrap(a);b.setValue(a,jQuery(this).attr("data-value"));b.close(a)})});1>d.children(".select-option.selected").length&&d.children(".select-option:first").addClass("selected")},init:function(a){var b={},c=this,g=function(c,
d){var e;e=a.hasOwnProperty(c)?a[c]:d;void 0!=e&&(b[c]=e);return e},d=g("select");if(void 0!=d){d=jQuery(d).not(".init-he-styled-select");if(0<d.length){var f=g("onchange"),e=g("classes"),h=jQuery(".init-he-styled-select").length;d.each(function(a){var b=jQuery(this);b.addClass("init-he-styled-select");b.attr("data-styled-select",h+a+1+"");b.after('<div data-styled-select="'+(h+a+1)+'" class="he-styled-select-wrap"><div class="select-val"></div><div class="select-options"></div><div class="select-btn"></div></div>');
c.updateOptions(b);void 0!=f&&(b[0].custom_select_onchange=f);b.change(function(){var a=c.getValue(jQuery(this));void 0==a&&(a="");a!==jQuery(this).val()&&c.setValue(jQuery(this),jQuery(this).val())});a=c.getWrapForSelect(b);if(void 0!=e)for(var d=0;d<e.length;d++)b.addClass(e[d]),a.addClass(e[d]);b=a.children(".select-btn:last");a.children(".select-val:last").click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");var b=c.getSelectForWrap(a);
a.hasClass("select-open")?c.close(b):c.open(b)});b.click(function(a){a.preventDefault();a.stopPropagation();a=jQuery(this).parents(".he-styled-select-wrap:first");var b=c.getSelectForWrap(a);a.hasClass("select-open")?c.close(b):c.open(b)})});b.select_el=d}document.hasOwnProperty("he_styled_select_init")||(document.he_styled_select_init=!0,jQuery(document).keydown(function(a){if(0<jQuery(".he-styled-select-wrap.select-open:first").length)switch(a.keyCode){case 27:a.preventDefault(),a.stopPropagation(),
c.close(jQuery(".init-he-styled-select"))}}),jQuery(document).click(function(a){0<jQuery(".he-styled-select-wrap.select-open:first").length&&(a.preventDefault(),a.stopPropagation(),c.close(jQuery(".init-he-styled-select")))}))}return b}}}();
